@{
    ViewBag.Title = "Upload";
    Layout = "_Layout";
}

<h2>@ViewBag.Title</h2>

<p class="bg-info">Upload a JSON file generated by the Active Directory Tool to import users.</p>

<form asp-action="Upload"
      class="form-horizontal"
      enctype="multipart/form-data">
    <div class="form-group">
        <label class="btn btn-primary">
            <input id="file-upload"
                   accept=".json, application/json"
                   name="file"
                   type="file"
                   style="display: none;"/>
            Select File...
        </label>

        <span id="file-selected"></span>
    </div>
    <div class="form-group">
        <input type="submit"
               value="Upload"
               class="btn btn-primary"/>
        <a asp-action="Index" class="btn btn-danger">Cancel</a>
    </div>  
</form>

@section Scripts
{
    <script type="text/javascript">
        $('#file-upload').bind('change',
            function () {
                var fileName = $(this).val();
                $('#file-selected').html(fileName.substring(fileName.lastIndexOf('\\') + 1));
            });
    </script>
}
